/**
*** Loadings created by SpinKit(http://tobiasahlin.com/spinkit/)
**/


$spinkit-spinner-margin = 40px auto
$spinkit-size = 40px
$spinkit-spinner-color = #333

//
// Rotating-plane
// --------------------------------------------------

.sk-rotating-plane
  width: $spinkit-size
  height: $spinkit-size
  background-color: $color-primary
  margin: $spinkit-spinner-margin
  animation: sk-rotatePlane 1.2s infinite ease-in-out

@keyframes sk-rotatePlane
  0%
    transform: perspective(120px) rotateX(0deg) rotateY(0deg)
  50%
    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg)
  100%
    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg)

//
// Double bounce
// --------------------------------------------------
.sk-double-bounce
  width: $spinkit-size
  height: $spinkit-size
  position: relative
  margin: $spinkit-spinner-margin

  .sk-child
    width: 100%
    height: 100%
    border-radius: 50%
    background-color: $color-accessory
    opacity: 0.6
    position: absolute
    top: 0
    left: 0
    animation: sk-doubleBounce 2.0s infinite ease-in-out


  .sk-double-bounce2
    animation-delay: -1.0s

@keyframes sk-doubleBounce
  0%, 100%
    transform: scale(0)
  50%
    transform: scale(1.0)

//
// Wave
// --------------------------------------------------
.sk-wave
  $rectCount = 5
  $animationDuration = 1.2s
  $delayRange = 0.4s
  margin: $spinkit-spinner-margin
  width: (40px * 1.25)
  height: 40px
  text-align: center
  font-size: 10px

  .sk-rect
    background-color: $color-success
    height: 100%
    width: 6px
    display: inline-block
    animation: sk-waveStretchDelay $animationDuration infinite ease-in-out

  for $i in (1)..($rectCount)
    .sk-rect{$i}
      animation-delay: (- $animationDuration + $delayRange / ($rectCount - 1) * ($i - 1))s

@keyframes sk-waveStretchDelay
  0%, 40%, 100%
    transform: scaleY(0.4)
  20%
    transform: scaleY(1)


//
// Wandering cubes
// --------------------------------------------------
.sk-wandering-cubes
  $animationDuration = 2s
  margin: $spinkit-spinner-margin
  width: $spinkit-size
  height: $spinkit-size
  position: relative
  .sk-cube
    background-color: $color-warning
    width: 10px
    height: 10px
    position: absolute
    top: 0
    left: 0
    animation: sk-wanderingCube $animationDuration ease-in-out (- $animationDuration) infinite both
  .sk-cube2
    animation-delay: (- $animationDuration / 2)

@keyframes sk-wanderingCube
  $cubeDistance = 30px
  0%
    transform: rotate(0deg) scale(1.5)
  25%
    transform: translateX($cubeDistance) rotate(-90deg) scale(0.5)
  50%
    /* Hack to make FF rotate in the right direction */
    transform: translateX($cubeDistance) translateY($cubeDistance) rotate(-179deg) scale(1.5)
  50.1%
    transform: translateX($cubeDistance) translateY($cubeDistance) rotate(-180deg) scale(1.5)
  75%
    transform: translateX(0) translateY($cubeDistance) rotate(-270deg) scale(0.5)
  100%
    transform: rotate(-360deg) scale(1.5)

//
// Spinner pulse
// --------------------------------------------------
.sk-spinner-pulse
  width: $spinkit-size
  height: $spinkit-size
  margin: $spinkit-spinner-margin
  background-color: $color-alert
  border-radius: 100%
  animation: sk-pulseScaleOut 1.0s infinite ease-in-out

@keyframes sk-pulseScaleOut
  0%
    transform: scale(0)
  100%
    transform: scale(1)
    opacity: 0

//
// Chasing dots
// --------------------------------------------------
.sk-chasing-dots
  $animationDuration = 2s
  margin: $spinkit-spinner-margin
  width: $spinkit-size
  height: $spinkit-size
  position: relative
  text-align: center
  animation: sk-chasingDotsRotate $animationDuration infinite linear
  .sk-child
    width: 60%
    height: 60%
    display: inline-block
    position: absolute
    top: 0
    background-color: $color-call-to-action
    border-radius: 100%
    animation: sk-chasingDotsBounce $animationDuration infinite ease-in-out
  .sk-dot2
    top: auto
    bottom: 0
    animation-delay: (- $animationDuration / 2)

@keyframes sk-chasingDotsRotate
  100%
    transform: rotate(360deg)

@keyframes sk-chasingDotsBounce
  0%, 100%
    transform: scale(0)
  50%
    transform: scale(1)

//
// Three bounce
// --------------------------------------------------
.sk-three-bounce
  $animationDuration = 1.4s
  $delayRange = 0.32s
  margin: $spinkit-spinner-margin
  width: ($spinkit-size * 2)
  text-align: center
  .sk-child
    width: ($spinkit-size / 2)
    height: ($spinkit-size / 2)
    background-color: $color-primary
    border-radius: 100%
    display: inline-block
    animation: sk-three-bounce $animationDuration ease-in-out 0s infinite both
  .sk-bounce1
    animation-delay: -1*$delayRange
  .sk-bounce2
    animation-delay: (- $delayRange / 2)

@keyframes sk-three-bounce
  0%, 80%, 100%
    transform: scale(0)
  40%
    transform: scale(1)

//
// Circle
// --------------------------------------------------
.sk-loading-circle
  margin: $spinkit-spinner-margin

.sk-circle
  $circleCount = 12
  $animationDuration = 1.2s
  width: $spinkit-size
  height: $spinkit-size
  position: relative
  .sk-child
    width: 100%
    height: 100%
    position: absolute
    left: 0
    top: 0
  .sk-child:before
    content: ''
    display: block
    margin: 0 auto
    width: 15%
    height: 15%
    background-color: $color-accessory
    border-radius: 100%
    animation: sk-circleBounceDelay $animationDuration infinite ease-in-out both
  for $i in (2)..($circleCount)
    .sk-circle{$i}
      transform: rotate(360deg / $circleCount * ($i - 1))
  for $i in (2)..($circleCount)
    .sk-circle{$i}:before
      animation-delay: (- $animationDuration + $animationDuration / $circleCount * ($i - 1))

@keyframes sk-circleBounceDelay
  0%, 80%, 100%
    transform: scale(0)
  40%
    transform: scale(1)

//
// Cube grid
// --------------------------------------------------
.sk-cube-grid
  $delayRange = 0.4s
  width: $spinkit-size
  height: $spinkit-size
  margin: $spinkit-spinner-margin
  .sk-cube
    width: 33.33%
    height: 33.33%
    background-color: $color-success
    float: left
    animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out
  /*
   * Spinner positions
   * 1 2 3
   * 4 5 6
   * 7 8 9
   */
  .sk-cube1
    animation-delay: ($delayRange * 0.5)
  .sk-cube2
    animation-delay: ($delayRange * 0.75)
  .sk-cube3
    animation-delay: $delayRange
  .sk-cube4
    animation-delay: ($delayRange * 0.25)
  .sk-cube5
    animation-delay: ($delayRange * 0.5)
  .sk-cube6
    animation-delay: ($delayRange * 0.75)
  .sk-cube7
    animation-delay: 0s
  .sk-cube8
    animation-delay: ($delayRange * 0.25)
  .sk-cube9
    animation-delay: ($delayRange * 0.5)

@keyframes sk-cubeGridScaleDelay
  0%, 70%, 100%
    transform: scale3D(1, 1, 1)
  35%
    transform: scale3D(0, 0, 1)

//
// Fading circle
// --------------------------------------------------
.sk-fading-circle
  $circleCount = 12
  $animationDuration = 1.2s
  margin: 0 auto
  margin: $spinkit-spinner-margin
  width: $spinkit-size
  height: $spinkit-size
  position: relative
  .sk-circle
    width: 100%
    height: 100%
    position: absolute
    left: 0
    top: 0
  .sk-circle:before
    content: ''
    display: block
    margin: 0 auto
    width: 15%
    height: 15%
    background-color: $color-warning
    border-radius: 100%
    animation: sk-circleFadeDelay $animationDuration infinite ease-in-out both
  for $i in (2)..($circleCount)
    .sk-circle{$i}
      transform: rotate(360deg / $circleCount * ($i - 1))
  for $i in (2)..($circleCount)
    .sk-circle{$i}:before
      animation-delay: (- $animationDuration + $animationDuration / $circleCount * ($i - 1))

@keyframes sk-circleFadeDelay
  0%, 39%, 100%
    opacity: 0
  40%
    opacity: 1

//
// Folding cube
// --------------------------------------------------
.sk-folding-cube
  $cubeCount = 4
  $animationDuration = 2.4s
  $delayRange = $animationDuration / 2
  margin: $spinkit-spinner-margin
  width: $spinkit-size
  height: $spinkit-size
  position: relative
  transform: rotateZ(45deg)
  .sk-cube
    float: left
    width: 50%
    height: 50%
    position: relative
    transform: scale(1.1)
  .sk-cube:before
    content: ''
    position: absolute
    top: 0
    left: 0
    width: 100%
    height: 100%
    background-color: $color-alert
    animation: sk-foldCubeAngle $animationDuration infinite linear both
    transform-origin(100% 100%)
  // Rotation / angle
  for $i in (2)..($cubeCount)
    .sk-cube{$i}
      transform: scale(1.1) rotateZ(90deg * ($i - 1))
  for $i in (2)..($cubeCount)
    .sk-cube{$i}:before
      animation-delay: ($delayRange / $cubeCount * ($i - 1))
@keyframes sk-foldCubeAngle
  0%, 10%
    transform: perspective(140px) rotateX(-180deg)
    opacity: 0
  25%, 75%
    transform: perspective(140px) rotateX(0deg)
    opacity: 1
  90%, 100%
    transform: perspective(140px) rotateY(180deg)
    opacity: 0

.spinner
  min-width: $spinkit-size
  min-height: $spinkit-size
  margin: $spinkit-spinner-margin

.spinner:before
  content: 'Loadingâ€¦'
  position: absolute
  top: 50%
  left: 50%
  width: 36px
  height: 36px
  margin-top: -18px
  margin-left: -18px

.spinner:not(:required):before
  content: ''
  border-radius: 50%
  border: 1.5px solid rgba($color-call-to-action, 0.1)
  border-top-color: $color-call-to-action
  animation: spinner .6s linear infinite
  -webkit-animation: spinner .6s linear infinite

.spinner-container
  min-height: 500px
  position: relative
  background-color: $color-gray-xlight

.spinner-small
  &:before
    width: 18px
    height: 18px
    margin-top: -9px
    margin-left: -9px

@keyframes spinner
  to
    transform: rotate(360deg)

@-webkit-keyframes spinner
  to
    -webkit-transform: rotate(360deg)
